<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Angler Squad | Public Progress</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* WordPress Overlay Support */
        #wp-custom-wrapper {
            background-color: transparent !important;
            color: #f8fafc !important;
            font-family: ui-sans-serif, system-ui, sans-serif !important;
            min-height: 100vh;
            padding: 20px 0;
            position: relative;
            overflow: hidden; /* Contains the ripple effect */
        }
        
        /* 90% Width & Glassmorphism */
        .container-90 {
            width: 90% !important;
            margin: 0 auto !important;
            background: rgba(15, 23, 42, 0.95);
            padding: 30px;
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            position: relative;
            z-index: 10;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 10px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.05);
            transition: all 0.3s ease;
        }

        .tier-label { font-size: 0.6rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 2px; display: block; }
        .tier-val { font-size: 1.5rem; font-weight: 900; line-height: 1.2; }

        /* Updated Tier Colors - Legendary is Purple */
        .legendary { color: #a855f7; text-shadow: 0 0 10px rgba(168, 85, 247, 0.4); }
        .diamond { color: #22d3ee; text-shadow: 0 0 10px rgba(34, 211, 238, 0.3); }
        .gold { color: #fbbf24; text-shadow: 0 0 10px rgba(251, 191, 36, 0.3); }
        .silver { color: #94a3b8; text-shadow: 0 0 10px rgba(148, 163, 184, 0.3); }
        .bronze { color: #b45309; text-shadow: 0 0 10px rgba(180, 83, 9, 0.3); }

        .player-row {
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            padding-bottom: 24px;
            margin-bottom: 24px;
        }
        .player-row:last-child { border: none; margin-bottom: 0; padding-bottom: 0; }

        /* Water Ripple Effect Styles */
        .ripple {
            position: absolute;
            background: rgba(59, 130, 246, 0.4);
            border-radius: 50%;
            transform: scale(0);
            animation: ripple-animation 0.8s linear;
            pointer-events: none;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        @keyframes ripple-animation {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        @media (max-width: 1024px) {
            .stat-grid { grid-template-cols: repeat(3, 1fr); }
        }

        @media (max-width: 640px) {
            .stat-grid { grid-template-cols: repeat(2, 1fr); gap: 8px; }
            .tier-val { font-size: 1.1rem; }
            .legendary-card { grid-column: span 2; }
        }
    </style>
</head>
<body class="bg-slate-950">

    <div id="wp-custom-wrapper" onclick="createRipple(event)">
        <div class="container-90">
            <header class="flex flex-col md:flex-row justify-between items-center mb-10 gap-4 text-center md:text-left">
                <div>
                    <h1 class="text-3xl font-black tracking-tighter text-white uppercase italic">Squad Live Progress</h1>
                    <p class="text-blue-400 text-xs font-bold tracking-widest uppercase">Syncing All Catch Tiers from theAngler</p>
                </div>
                <div class="flex gap-3">
                    <a href="https://www.amazon.com/s?k=fishing&tag=werewoolf3788-20" target="_blank" class="bg-orange-500 hover:bg-orange-400 text-black font-black py-2 px-5 rounded-full text-[10px] uppercase tracking-widest transition-all">
                        Shop Fishing Gear
                    </a>
                </div>
            </header>

            <div id="display-container" class="space-y-8">
                <!-- Data will be injected here from GitHub -->
                <div class="flex flex-col items-center justify-center py-20 opacity-50">
                    <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mb-4"></div>
                    <p class="text-xs uppercase tracking-widest">Loading Squad Stats...</p>
                </div>
            </div>

            <footer class="mt-12 pt-6 border-t border-white/10 text-center opacity-40">
                <p class="text-[9px] font-black uppercase tracking-widest">
                    Lead Developer: <span class="text-blue-400">Werewolf3788</span> &bull; Source: KFruti88 GitHub
                </p>
            </footer>
        </div>
    </div>

    <script>
        const GITHUB_RAW_URL = 'https://raw.githubusercontent.com/KFruti88/PSN/main/The-Angler/tracker.html';
        
        // Reordered: Terr first, Werewolf second, Ray third
        const PLAYERS = [
            { id: 'terrdog420', name: 'terrdog420', img: 'https://static-cdn.jtvnw.net/jtv_user_pictures/9dad426e-04cb-4fc0-a917-25982b3800ce-profile_image-70x70.png' },
            { id: 'Werewolf3788', name: 'Werewolf3788', img: 'https://static-cdn.jtvnw.net/jtv_user_pictures/1a4efdb4-023e-4802-b07c-82c09a45c4c8-profile_image-70x70.png' },
            { id: 'Raymystyro', name: 'Raymystyro', img: 'https://static-cdn.jtvnw.net/jtv_user_pictures/032a0367-589f-4763-94de-4fc679a0b2df-profile_image-70x70.png' }
        ];

        // Water Ripple Logic
        function createRipple(event) {
            const wrapper = document.getElementById('wp-custom-wrapper');
            const ripple = document.createElement('span');
            ripple.classList.add('ripple');
            
            const rect = wrapper.getBoundingClientRect();
            const size = 100;
            const x = event.clientX - rect.left - size / 2;
            const y = event.clientY - rect.top - size / 2;
            
            ripple.style.width = ripple.style.height = `${size}px`;
            ripple.style.left = `${x}px`;
            ripple.style.top = `${y}px`;
            
            wrapper.appendChild(ripple);
            
            setTimeout(() => {
                ripple.remove();
            }, 800);
        }

        async function fetchGitHubData() {
            const container = document.getElementById('display-container');
            try {
                const response = await fetch(GITHUB_RAW_URL + '?t=' + new Date().getTime());
                if (!response.ok) throw new Error('Source not found');
                
                const htmlText = await response.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(htmlText, 'text/html');

                let outputHtml = '';

                PLAYERS.forEach(player => {
                    const leg  = doc.getElementById(`${player.id}-legendary`)?.innerText || '0';
                    const dia  = doc.getElementById(`${player.id}-diamond`)?.innerText || '0';
                    const gold = doc.getElementById(`${player.id}-gold`)?.innerText || '0';
                    const silv = doc.getElementById(`${player.id}-silver`)?.innerText || '0';
                    const bron = doc.getElementById(`${player.id}-bronze`)?.innerText || '0';

                    outputHtml += `
                        <div class="player-row flex flex-col xl:flex-row items-center gap-6">
                            <div class="flex items-center gap-4 min-w-[220px] w-full xl:w-auto mb-2 xl:mb-0">
                                <img src="${player.img}" class="w-14 h-14 rounded-full border-2 border-purple-500 shadow-lg" />
                                <h2 class="text-xl font-black text-white uppercase tracking-tighter">${player.name}</h2>
                            </div>
                            
                            <div class="stat-grid grid grid-cols-5 gap-3 flex-1 w-full">
                                <div class="stat-card border-purple-500/20 legendary-card">
                                    <span class="tier-label legendary">Legendary</span>
                                    <div class="tier-val legendary">${leg}</div>
                                </div>
                                <div class="stat-card border-cyan-500/20 diamond-card">
                                    <span class="tier-label diamond">Diamond</span>
                                    <div class="tier-val diamond">${dia}</div>
                                </div>
                                <div class="stat-card border-yellow-500/20">
                                    <span class="tier-label gold">Gold</span>
                                    <div class="tier-val gold">${gold}</div>
                                </div>
                                <div class="stat-card border-slate-500/20">
                                    <span class="tier-label silver">Silver</span>
                                    <div class="tier-val silver">${silv}</div>
                                </div>
                                <div class="stat-card border-orange-500/20">
                                    <span class="tier-label bronze">Bronze</span>
                                    <div class="tier-val bronze">${bron}</div>
                                </div>
                            </div>
                        </div>
                    `;
                });

                container.innerHTML = outputHtml;

            } catch (err) {
                container.innerHTML = `
                    <div class="text-center py-10">
                        <p class="text-red-400 font-bold mb-2">Sync Error</p>
                        <p class="text-xs text-gray-500">Could not retrieve data. Check GitHub tracker.html.</p>
                    </div>
                `;
            }
        }

        window.onload = fetchGitHubData;
    </script>
</body>
</html>
