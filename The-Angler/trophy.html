<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, doc, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyC55Cb3JcK9NiDkdSHpAS3UuTEG82aze7k",
            authDomain: "angler-squad-tracker.firebaseapp.com",
            projectId: "angler-squad-tracker",
            storageBucket: "angler-squad-tracker.firebasestorage.app",
            messagingSenderId: "325679067980",
            appId: "1:325679067980:web:57edbad70fe12b988355e9"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);

        const players = [
            { id: 'terrdog420', name: 'terrdog420', img: 'https://static-cdn.jtvnw.net/jtv_user_pictures/9dad426e-04cb-4fc0-a917-25982b3800ce-profile_image-70x70.png' },
            { id: 'Werewolf3788', name: 'Werewolf3788', img: 'https://static-cdn.jtvnw.net/jtv_user_pictures/1a4efdb4-023e-4802-b07c-82c09a45c4c8-profile_image-70x70.png' },
            { id: 'Raymystyro', name: 'Raymystyro', img: 'https://static-cdn.jtvnw.net/jtv_user_pictures/032a0367-589f-4763-94de-4fc679a0b2df-profile_image-70x70.png' }
        ];

        const tiers = ['Legendary', 'Diamond', 'Gold', 'Silver', 'Bronze'];
        const tierColors = { Legendary: 'text-purple-500', Diamond: 'text-cyan-400', Gold: 'text-yellow-400', Silver: 'text-slate-400', Bronze: 'text-orange-700' };

        function init() {
            document.getElementById('display').innerHTML = players.map(p => `
                <div class="flex flex-col xl:flex-row items-center gap-6 border-b border-white/5 pb-8 mb-8 last:border-0">
                    <div class="flex items-center gap-4 min-w-[220px]">
                        <img src="${p.img}" class="w-14 h-14 rounded-full border-2 border-purple-500" />
                        <h2 class="text-xl font-black text-white uppercase tracking-tighter">${p.name}</h2>
                    </div>
                    <div class="grid grid-cols-5 gap-3 flex-1 w-full">
                        ${tiers.map(t => `
                            <div class="bg-white/5 rounded-xl p-3 text-center border border-white/5">
                                <span class="block text-[8px] font-black uppercase tracking-widest ${tierColors[t]} opacity-70">${t}</span>
                                <div id="v-${p.id}-${t}" class="text-2xl font-black ${tierColors[t]}">0</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
            signInAnonymously(auth).then(() => {
                players.forEach(p => onSnapshot(doc(db, 'catches', p.id), s => {
                    if (s.exists()) tiers.forEach(t => document.getElementById(`v-${p.id}-${t}`).innerText = s.data()[t] || 0);
                }));
            });
        }
        window.onload = init;
    </script>
    <style>
        .container-90 { width: 90% !important; margin: 0 auto !important; background: rgba(15, 23, 42, 0.95); padding: 30px; border-radius: 24px; border: 1px solid rgba(255, 255, 255, 0.1); backdrop-filter: blur(12px); }
    </style>
</head>
<body class="bg-slate-950 py-10">
    <div class="container-90">
        <header class="flex justify-between items-center mb-10">
            <h1 class="text-3xl font-black text-white uppercase italic tracking-tighter">Squad Live Progress</h1>
            <a href="https://www.amazon.com/s?k=fishing&tag=Werewolf3788-20" target="_blank" class="bg-orange-500 text-black font-black py-2 px-5 rounded-full text-[10px] uppercase tracking-widest">Shop Fishing Gear</a>
        </header>
        <div id="display"></div>
    </div>
</body>
</html>
